{
  "id": "9d05247d-846d-482d-a1e0-7e4bc5972871",
  "revision": 0,
  "last_node_id": 8,
  "last_link_id": 5,
  "nodes": [
    {
      "id": 4,
      "type": "ShowText|pysssss",
      "pos": [
        -2087.94189453125,
        -503.5842590332031
      ],
      "size": [
        1269.8719482421875,
        88
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "label": "text",
          "localized_name": "text",
          "name": "text",
          "type": "STRING",
          "link": 3
        }
      ],
      "outputs": [
        {
          "label": "STRING",
          "localized_name": "STRING",
          "name": "STRING",
          "shape": 6,
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "f2838ed5e59de4d73cde5c98354b87a8d3200190",
        "Node name for S&R": "ShowText|pysssss",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "No unnecessary elements, like extra characters or cluttered background."
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 5,
      "type": "ShowText|pysssss",
      "pos": [
        -2086.082275390625,
        -361.9798583984375
      ],
      "size": [
        1275.2108154296875,
        158.79824829101562
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "label": "text",
          "localized_name": "text",
          "name": "text",
          "type": "STRING",
          "link": 4
        }
      ],
      "outputs": [
        {
          "label": "STRING",
          "localized_name": "STRING",
          "name": "STRING",
          "shape": 6,
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "f2838ed5e59de4d73cde5c98354b87a8d3200190",
        "Node name for S&R": "ShowText|pysssss",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "Prompt: Two women in detailed fantasy armor, sitting by a pool with a waterfall in the background, surrounded by cherry blossoms and bathed in sunlight.\nNegative: No unnecessary elements, like extra characters or cluttered background.\n\n[latency: 4.85s]"
      ]
    },
    {
      "id": 6,
      "type": "ShowText|pysssss",
      "pos": [
        -2088.65234375,
        -143.50531005859375
      ],
      "size": [
        1283.7784423828125,
        369.5619201660156
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "label": "text",
          "localized_name": "text",
          "name": "text",
          "type": "STRING",
          "link": 5
        }
      ],
      "outputs": [
        {
          "label": "STRING",
          "localized_name": "STRING",
          "name": "STRING",
          "shape": 6,
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "f2838ed5e59de4d73cde5c98354b87a8d3200190",
        "Node name for S&R": "ShowText|pysssss",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "{\n  \"choices\": [\n    {\n      \"finish_reason\": \"stop\",\n      \"index\": 0,\n      \"message\": {\n        \"role\": \"assistant\",\n        \"reasoning_content\": \"Okay, let me analyze the image. There are two women sitting by a pool with a waterfall in the background. They're wearing fantasy armor, one in silver and the other in gold. The scene has cherry blossoms and sunlight. So the prompt should capture all these elements.\\n\\nFirst, the subjects: two women in fantasy armor, sitting by a pool. The setting includes a waterfall, cherry blossoms, and sunlight. Need to mention the armor details, the pool, the waterfall, the cherry blossoms, and the lighting.\\n\\nSo the prompt would be: Two women in detailed fantasy armor, sitting by a pool with a waterfall in the background, surrounded by cherry blossoms and bathed in sunlight.\\n\\nNegative: No unnecessary elements, like extra characters or cluttered background.\",\n        \"content\": \"Prompt: Two women in detailed fantasy armor, sitting by a pool with a waterfall in the background, surrounded by cherry blossoms and bathed in sunlight.\\nNegative: No unnecessary elements, like extra characters or cluttered background.\"\n      }\n    }\n  ],\n  \"created\": 1756911359,\n  \"model\": \"minicpm-v-4.5\",\n  \"system_fingerprint\": \"b6295-86076f92\",\n  \"object\": \"chat.completion\",\n  \"usage\": {\n    \"completion_tokens\": 204,\n    \"prompt_tokens\": 522,\n    \"total_tokens\": 726\n  },\n  \"id\": \"chatcmpl-egLvdo8a0kqDfst0eQsOoELIJFLcNKWZ\",\n  \"timings\": {\n    \"prompt_n\": 516,\n    \"prompt_ms\": 1445.912,\n    \"prompt_per_token_ms\": 2.80215503875969,\n    \"prompt_per_second\": 356.8681911485623,\n    \"predicted_n\": 204,\n    \"predicted_ms\": 3219.286,\n    \"predicted_per_token_ms\": 15.780813725490196,\n    \"predicted_per_second\": 63.36808845191138\n  }\n}"
      ]
    },
    {
      "id": 3,
      "type": "ShowText|pysssss",
      "pos": [
        -2091.18505859375,
        -698.6782836914062
      ],
      "size": [
        1271.252685546875,
        130.4929656982422
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "label": "text",
          "localized_name": "text",
          "name": "text",
          "type": "STRING",
          "link": 2
        }
      ],
      "outputs": [
        {
          "label": "STRING",
          "localized_name": "STRING",
          "name": "STRING",
          "shape": 6,
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "f2838ed5e59de4d73cde5c98354b87a8d3200190",
        "Node name for S&R": "ShowText|pysssss",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "Two women in detailed fantasy armor, sitting by a pool with a waterfall in the background, surrounded by cherry blossoms and bathed in sunlight."
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 2,
      "type": "LoadImage",
      "pos": [
        -2958.622802734375,
        -529.3247680664062
      ],
      "size": [
        358.89959716796875,
        640.0839233398438
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "localized_name": "image",
          "name": "image",
          "type": "COMBO",
          "widget": {
            "name": "image"
          },
          "link": null
        },
        {
          "label": "upload",
          "localized_name": "choose file to upload",
          "name": "upload",
          "type": "IMAGEUPLOAD",
          "widget": {
            "name": "upload"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "localized_name": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1
          ]
        },
        {
          "label": "MASK",
          "localized_name": "MASK",
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.56",
        "Node name for S&R": "LoadImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "母女俩和好啦_7_斗破苍井_来自小红书网页版.jpg",
        "image"
      ]
    },
    {
      "id": 1,
      "type": "OpenAIAsk",
      "pos": [
        -2583.73779296875,
        -529.9733276367188
      ],
      "size": [
        433.92779541015625,
        694.790283203125
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "localized_name": "image",
          "name": "image",
          "shape": 7,
          "type": "IMAGE",
          "link": 1
        },
        {
          "label": "question",
          "localized_name": "question",
          "name": "question",
          "type": "STRING",
          "widget": {
            "name": "question"
          },
          "link": null
        },
        {
          "label": "api_base",
          "localized_name": "api_base",
          "name": "api_base",
          "type": "STRING",
          "widget": {
            "name": "api_base"
          },
          "link": null
        },
        {
          "label": "endpoint_path",
          "localized_name": "endpoint_path",
          "name": "endpoint_path",
          "type": "STRING",
          "widget": {
            "name": "endpoint_path"
          },
          "link": null
        },
        {
          "label": "model",
          "localized_name": "model",
          "name": "model",
          "type": "STRING",
          "widget": {
            "name": "model"
          },
          "link": null
        },
        {
          "label": "temperature",
          "localized_name": "temperature",
          "name": "temperature",
          "type": "FLOAT",
          "widget": {
            "name": "temperature"
          },
          "link": null
        },
        {
          "label": "top_p",
          "localized_name": "top_p",
          "name": "top_p",
          "type": "FLOAT",
          "widget": {
            "name": "top_p"
          },
          "link": null
        },
        {
          "label": "max_tokens",
          "localized_name": "max_tokens",
          "name": "max_tokens",
          "type": "INT",
          "widget": {
            "name": "max_tokens"
          },
          "link": null
        },
        {
          "label": "system_prompt",
          "localized_name": "system_prompt",
          "name": "system_prompt",
          "type": "STRING",
          "widget": {
            "name": "system_prompt"
          },
          "link": null
        },
        {
          "label": "use_vision",
          "localized_name": "use_vision",
          "name": "use_vision",
          "type": "COMBO",
          "widget": {
            "name": "use_vision"
          },
          "link": null
        },
        {
          "label": "api_key",
          "localized_name": "api_key",
          "name": "api_key",
          "shape": 7,
          "type": "STRING",
          "widget": {
            "name": "api_key"
          },
          "link": null
        },
        {
          "label": "extra_headers_json",
          "localized_name": "extra_headers_json",
          "name": "extra_headers_json",
          "shape": 7,
          "type": "STRING",
          "widget": {
            "name": "extra_headers_json"
          },
          "link": null
        },
        {
          "label": "timeout_sec",
          "localized_name": "timeout_sec",
          "name": "timeout_sec",
          "shape": 7,
          "type": "INT",
          "widget": {
            "name": "timeout_sec"
          },
          "link": null
        },
        {
          "label": "max_side",
          "localized_name": "max_side",
          "name": "max_side",
          "shape": 7,
          "type": "INT",
          "widget": {
            "name": "max_side"
          },
          "link": null
        },
        {
          "label": "image_format",
          "localized_name": "image_format",
          "name": "image_format",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "image_format"
          },
          "link": null
        },
        {
          "label": "jpeg_quality",
          "localized_name": "jpeg_quality",
          "name": "jpeg_quality",
          "shape": 7,
          "type": "INT",
          "widget": {
            "name": "jpeg_quality"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "positive",
          "localized_name": "positive",
          "name": "positive",
          "type": "STRING",
          "links": [
            2
          ]
        },
        {
          "label": "negative",
          "localized_name": "negative",
          "name": "negative",
          "type": "STRING",
          "links": [
            3
          ]
        },
        {
          "label": "answer_text",
          "localized_name": "answer_text",
          "name": "answer_text",
          "type": "STRING",
          "links": [
            4
          ]
        },
        {
          "label": "raw_json",
          "localized_name": "raw_json",
          "name": "raw_json",
          "type": "STRING",
          "links": [
            5
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "OpenAIAsk",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "",
        "http://127.0.0.1:10000",
        "/v1/chat/completions",
        "minicpm-v-4.5",
        0.7,
        0.8,
        512,
        "You are a helpful vision-language assistant. When an image is provided, infer a precise, copyable prompt for text-to-image. Return in the format:\nPrompt: ...\nNegative: ...\nKeep it concise and concrete.",
        "auto",
        "",
        "",
        60,
        1280,
        "PNG",
        90
      ]
    }
  ],
  "links": [
    [
      1,
      2,
      0,
      1,
      0,
      "IMAGE"
    ],
    [
      2,
      1,
      0,
      3,
      0,
      "STRING"
    ],
    [
      3,
      1,
      1,
      4,
      0,
      "STRING"
    ],
    [
      4,
      1,
      2,
      5,
      0,
      "STRING"
    ],
    [
      5,
      1,
      3,
      6,
      0,
      "STRING"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ue_links": [],
    "links_added_by_ue": [],
    "ds": {
      "scale": 0.7247295000000005,
      "offset": [
        3184.2727480797544,
        843.1575782972992
      ]
    }
  },
  "version": 0.4
}